{% extends 'index.html' %}

{% block body %}
<div class="container mt-5">
    <h2 class="mb-4">Add details</h2>
    <form action="/" method="POST">
        <div class="form-floating mb-3">
            <input type="text" class="form-control" id="floatingName" placeholder="John Doe" name="name" required>
            <label for="floatingName">Name</label>
        </div>

        <div class="form-floating mb-3">
            <input type="text" class="form-control" id="floatingDesignation" placeholder="Designation" name="designation"
                required>
            <label for="floatingDesignation">Designation</label>
        </div>

        <div class="form-floating mb-3">
            <input type="number" class="form-control" id="floatingSalary" placeholder="Salary" name="salary" required>
            <label for="floatingSalary">Salary</label>
        </div>

        <button type="submit" value="Submit" class="btn btn-primary">Submit</button>
    </form>
</div>

<div class="container my-3">
    <h2>Records</h2>
    <table class="table table-dark table-hover">
        <thead>
            <tr>
                <th scope="col">Sno</th>
                <th scope="col">Name</th>
                <th scope="col">Designation</th>
                <th scope="col">Salary</th>
                <th scope="col">Action</th>
            </tr>
        </thead>
        <tbody>
            {% if all_details|length == 0 %}
            <tr>
                <td colspan="5" class="text-center">
                    <div class="alert alert-warning" role="alert">No record found in Database!</div>
                </td>
            </tr>
            {% else %}
            {% for details in all_details %}
            <tr>
                <th scope="row">{{ loop.index }}</th>
                <td>{{ details.name }}</td>
                <td>{{ details.designation }}</td>
                <td>{{ details.salary }}</td>
                <td>
                    <a href="/update/{{ details.id }}" class="btn btn-warning btn-sm mx-1">Update</a>
                    <a href="/delete/{{ details.id }}" class="btn btn-danger btn-sm mx-1">Delete</a>
                </td>
            </tr>
            {% endfor %}
            {% endif %}
        </tbody>
    </table>
</div>
{% endblock body %}